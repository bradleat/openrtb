{
  "name": "openrtb",
  "version": "0.0.6",
  "description": "A Javascript library which builds and validates OpenRTB objects",
  "main": "index.js",
  "scripts": {
    "test": "mocha -R spec"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/Avocarrot/openrtb"
  },
  "keywords": [
    "openrtb",
    "real",
    "time",
    "bidding",
    "advertising"
  ],
  "author": {
    "name": "The Avocarrot Rockstar Team"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/Avocarrot/openrtb/issues"
  },
  "homepage": "https://github.com/Avocarrot/openrtb",
  "dependencies": {
    "bluebird": "^2.9.24"
  },
  "devDependencies": {
    "mocha": "^2.2.4",
    "moment": "^2.10.2",
    "should": "^6.0.1",
    "timekeeper": "0.0.5"
  },
  "gitHead": "c2021da968f1caa54324c59db9e1b6ae3c2098a8",
  "readme": "# OpenRTB Objects\r\n\r\n[![NPM](https://nodei.co/npm/openrtb.png?downloads=true&downloadRank=true&stars=true)](https://nodei.co/npm/openrtb/)\r\n\r\n\r\n## Purpose\r\nA Node.js library which builds, validates and processes OpenRTB objects. This project was inspired by the good people at [Metamarkets](https://metamarkets.com/) who build a [similar library for Java](https://github.com/metamx/rad-tech-datatypes). \r\n\r\n## Contents\r\n\r\n- [Installation](#installation)\r\n- [Constructing objects](#constructing-objects)\r\n- [Validating objects](#validating-objects)\r\n- [Objects API](#objects-api)\r\n- [Contributing](#contributing)\r\n\r\n## Installation\r\n\r\n```npm install openrtb```\r\n\r\n## Constructing objects\r\n\r\nThe library exposes object builders which are used to construct new objects. \r\n\r\n**Supported objects builders**\r\n\r\n**OpenRTB API Specification Version 2.3**\r\n\r\n- BidRequest\r\n\t- Imp\r\n\t    - Native\r\n\t    - Banner\r\n\t- App\r\n\t    - Publisher\r\n\t- Device\r\n\t- User\r\n     \r\n- BidResponse\r\n    - SeatBid\r\n        - Bid \r\n\r\n**OpenRTB API Specification Version 2.2**\r\n\r\nNot supported but most objects for v2.3 should work for this one too.\r\n\r\n### Construct a bid request\r\n```javascript\r\n    var builder = new BidRequestBuilder();\r\n\tbuilder\r\n\t.timestamp(moment.utc().format())\r\n\t.id('1234')\r\n\t.at(2)\r\n\t.imp([\r\n\t  {\r\n\t      \"id\":\"1\",\r\n          \"native\":{\r\n            \"request\": {\r\n              \"ver\": 1,\r\n              \"layout\": 6,\r\n              \"assets\": [\r\n                { \"id\": 0, \"req\": 1, \"title\": { \"len\": 25 } }, \r\n                { \"id\": 1, \"req\": 1, \"img\": { \"type\": 3, \"wmin\": 100, \"hmin\": 100 } },\r\n                { \"id\": 3, \"req\": 0, \"data\": { \"type\": 2, \"len\": 90 } }\r\n              ]\r\n            }\r\n          },\r\n\t      \"tagid\": \"eb09ff2a287598302fd631493949169b0d17f815\",\r\n\t      \"bidfloor\": 1.3\r\n\t  }\r\n\t])\r\n\t.app({\r\n\t  \"id\":\"55\",\r\n\t  \"name\":\"Test App\",\r\n\t  \"cat\":[\"IAB3-1\"],\r\n\t  \"storeurl\": \"http://www.example.com\",\r\n\t  \"publisher\":{  \r\n\t      \"id\": \"6332\"\r\n\t  }\r\n\t})\r\n\t.device({\r\n\t\t\"dnt\":0,\r\n\t\t\"ua\":\"Mozilla/5.0 (Linux; U; Android 4.0.3; ko-kr; LG-L160L Build/IML74K) AppleWebkit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30\",\r\n\t\t\"ip\":\"76.174.49.222\",\r\n\t\t\"connectiontype\":2,\r\n\t\t\"devicetype\":1,\r\n\t\t\"didsha1\": \"bbc9ff2a287598302fd631693949169b0d17f215\",\r\n\t\t\"carrier\": \"o2\",\r\n\t\t\"make\": \"samsung GT-I9300\",\r\n\t\t\"model\": \"Android\",\r\n\t\t\"language\": \"en\",\r\n\t\t\"os\": \"Android\",\r\n\t\t\"osv\": \"5.1.1\",\r\n\t\t\"geo\": {\r\n\t\t    \"country\": \"UK\"\r\n\t\t}\r\n\t})\r\n\t.user({\r\n\t\t\"id\":\"55816b39711f9b5acf3b90e313ed29e51665623f\",\r\n\t\t\"yob\": 1987,\r\n\t\t\"gender\": \"M\"\r\n\t})\r\n\t.bcat([\"IAB10\"])\r\n\t.badv([\"xxx.com\"])\r\n\t.ext({\r\n\t\t'extra': '1234'\r\n\t})\r\n\t.build()\r\n\t.then(function(bidRequest){\r\n\t\t//Do something with the object\r\n\t});\r\n```\r\n\r\n### Construct a bid response\r\n```javascript\r\n\tvar builder = new BidResponseBuilder();\r\n\tbuilder\r\n\t.timestamp(moment.utc().format())\r\n\t.status(1)\r\n\t.bidderName('test-bidder')\r\n\t.seatbid([\r\n\t\t{\r\n\t\t\tbid: [\r\n\t\t\t\t{\r\n\t\t\t\t  status: 1,\r\n\t\t\t\t  clearPrice: 0.9,\r\n\t\t\t\t  adid: 1,\r\n\t\t\t\t  id: '819582c3-96b2-401a-b60d-7ac3c117a513',\r\n\t\t\t\t  impid: 'e317ae49-8cd1-47b0-b022-02a8830182ce',\r\n\t\t\t\t  price: 1.05,\r\n\t\t\t\t  nurl: 'http://trackwin.com/win?pid=784170&data=OuJifVtEK&price=${AUCTION_PRICE}',\r\n\t\t\t\t  adm: '{\"native\":{\"assets\":[{\"id\":0,\"title\":{\"text\":\"Test Campaign\"}},{\"id\":1,\"img\":{\"url\":\"http://cdn.exampleimage.com/a/100/100/2639042\",\"w\":100,\"h\":100}},{\"id\":2,\"img\":{\"url\":\"http://cdn.exampleimage.com/a/50/50/2639042\",\"w\":50,\"h\":50}},{\"id\":3,\"data\":{\"value\":\"This is an amazing offer...\"}},{\"id\":5,\"data\":{\"value\":\"Install\"}}],\"link\":{\"url\":\"http://trackclick.com/Click?data=soDvIjYdQMm3WBjoORcGaDvJGOzgMvUap7vAw2\"},\"imptrackers\":[\"http://trackimp.com/Pixel/Impression/?bidPrice=${AUCTION_PRICE}&data=OuJifVtEKZqw3Hw7456F-etFgvhJpYOu0&type=img\"]}}',\r\n\t\t\t\t  cid: '9607',\r\n\t\t\t\t  crid: '335224',\r\n\t\t\t\t  iurl: 'http://cdn.testimage.net/1200x627.png',\r\n\t\t\t\t  adomain: [\"example.com\"] \r\n\t\t\t\t} \r\n\t\t\t]\r\n\t\t}\r\n\t])\r\n\t.build()\r\n\t.then(function(bidResponse){\r\n\t\t//Do something with the object\r\n\t});\r\n```\r\n\r\n## Validating objects\r\n\r\nAll builders will throw an error when trying to build an object that is missing a required parameter.\r\n\r\n```javascript\r\n\tvar builder = new BidRequestBuilder();\r\n\r\n\t//Trying to build a bid request without a request id\r\n\tbuilder\r\n    .timestamp(moment.utc().format())\r\n\t.build()\r\n\t.catch(function(err){\r\n\t\t//The following statement will print 'BidRequest should have a requestId'\r\n\t\tconsole.log(err.message);\r\n\t});\r\n```\r\n\r\n## Objects API\r\n\r\nAll objects inherit common functionality from a base RtbObject and also define some functionality of their own. See below for the documentation. \r\n\r\n### RtbObject\r\n\r\n##### `.stringify()` \r\n\r\nConverts the object to a JSON string. Properties that are undefined are not included.\r\n\r\n### BidRequest\r\n\r\n**Additional Properties**\r\n\r\n##### `timestamp` \r\n\r\nThe timestamp of the bid request. If not provided explicitly at build time the default will be the current UTC when the object is created.\r\n\r\n### BidResponse\r\n\r\n**Additional Properties**\r\n\r\n##### `status`\r\n\r\nThe table below lists the possible values for a bid response status.\r\n\r\n| Status  | Description  |\r\n|---|---|\r\n| 1  | Valid  |\r\n| 2  | Timeout |\r\n| 3  | Invalid JSON |\r\n| 4  | HTTP Error  |\r\n\r\n##### `bidderName`\r\n\r\nThe bidder's name used for reporting and debugging.\r\n\r\n##### `timestamp`\r\n\r\nThe timestamp of bid response. If not provided explicitly at build time the default will be the current UTC when the object is created.\r\n\r\n\r\n### Bid\r\n\r\n**Additional Properties**\r\n\r\n##### `status`\r\n\r\nThe table below lists the possible values for a bid status.\r\n\r\n| Status  | Description  |\r\n|---|---|\r\n| 1  | Won  |\r\n| 2  | Lost on Price |\r\n| 3  | Below floor  |\r\n| 4  | Markup Delivery Failure  |\r\n| 5  | Unscreenable  |\r\n| 6  | Blocked by publisher  |\r\n| 7  | Unverified creative  |\r\n| 8  | Blocked advertiser  |\r\n| 9  | Blocked content category  |\r\n| 10  | Block creative attribute |\r\n\r\n##### `clearPrice`\r\n\r\nThe bid clearing price determined after an auction.\r\n\r\n##### `parseAdm`\r\n\r\nA function which parses the bid's adm. If not provided explicitly the default implenentation is to return the adm as is.\r\n\r\n**Functions**\r\n\r\n##### `replaceMacros()` \r\n\r\nReplaces auction macros for a bid.\r\n\r\n## Disclaimer\r\n\r\nThis project is a work in progress. It was created for the specific purposes of the [Avocarrot Native Ad Exchange (AVX)](http://www.avocarrot.com/avx/) and some objects fields or functionality might be missing. If you want something to be added then please either get in touch or [submit your own pull request](#contributing).\r\n\r\n## Contributing\r\n\r\nThis project is work in progress and we'd love more people contributing to it. \r\n\r\n1. Fork the repo\r\n2. Apply your changes\r\n3. Write tests\r\n4. Submit your pull request\r\n\r\nFor feedback or suggestions you can drop us a line at support@avocarrot.com\r\n",
  "readmeFilename": "README.md",
  "_id": "openrtb@0.0.6",
  "_shasum": "c065947e55100a4fc318092d8e1143be16b42376",
  "_from": "..\\..\\..\\AppData\\Local\\Temp\\npm-16244-88f0f38d\\git-cache-4647649efafa\\c2021da968f1caa54324c59db9e1b6ae3c2098a8",
  "_resolved": "git+https://github.com/bradleat/openrtb.git#c2021da968f1caa54324c59db9e1b6ae3c2098a8"
}
